<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>文本溢出</title>
    <style>
        . .pAfter{
            position: relative;
        }
        .ellipsis.pAfter:after{
            content: "...";
            position: absolute;
            bottom: 0;
            right: 0;
            padding-left: 40px;
            background: -webkit-linear-gradient(left, transparent, #fff 55%);
            background: -moz-linear-gradient(left, transparent, #fff 55%);
            background: -o-linear-gradient(left, transparent, #fff 55%);
            background: linear-gradient(to right, transparent, #fff 55%);
        }
    </style>
</head>
<body>
    <div class="ellipsis">2341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134</div>
    <div class="ellipsis">2341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134</div>
    <div class="ellipsis">2341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134</div>
    <div class="ellipsis">2341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134234123412341234213423412341234123421342341234123412342134</div>
</body>
<script type="text/javascript" src="../js/jquery-2.2.2.min.js"></script>
<script type="text/javascript">
    //兼容搜狐文本溢出
    $(".ellipsis").each(function(){
        var lineHeight = parseInt($(this).css("line-height"));
        var height = parseInt($(this).height());
        console.log(lineHeight,height);
        if((height / lineHeight) >2){

            $(this).addClass("pAfter");
            $(this).css("height","2rem");
        }else{

            $(this).removeClass("pAfter");
        }
    });

</script>
</html>